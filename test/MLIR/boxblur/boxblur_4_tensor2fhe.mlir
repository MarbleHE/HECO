//RUN: fhe-tool -batching --canonicalize --cse --canonicalize < %s | FileCheck %s
module {
  func.func private @encryptedBoxBlur(%arg0: !fhe.batched_secret<64 x f64>) -> !fhe.batched_secret<64 x f64> {
    %0 = fhe.extract %arg0[55] : <64 x f64>
    %1 = fhe.extract %arg0[63] : <64 x f64>
    %2 = fhe.extract %arg0[7] : <64 x f64>
    %3 = fhe.extract %arg0[56] : <64 x f64>
    %4 = fhe.extract %arg0[0] : <64 x f64>
    %5 = fhe.extract %arg0[8] : <64 x f64>
    %6 = fhe.extract %arg0[57] : <64 x f64>
    %7 = fhe.extract %arg0[1] : <64 x f64>
    %8 = fhe.extract %arg0[9] : <64 x f64>
    %9 = fhe.add(%8, %7, %6, %5, %4, %3, %2, %0, %1) : (!fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>) -> !fhe.secret<f64>
    %10 = fhe.insert %9 into %arg0[0] : <64 x f64>
    %11 = fhe.extract %arg0[58] : <64 x f64>
    %12 = fhe.extract %arg0[2] : <64 x f64>
    %13 = fhe.extract %arg0[10] : <64 x f64>
    %14 = fhe.add(%13, %12, %11, %8, %7, %6, %5, %3, %4) : (!fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>) -> !fhe.secret<f64>
    %15 = fhe.insert %14 into %10[1] : <64 x f64>
    %16 = fhe.extract %arg0[59] : <64 x f64>
    %17 = fhe.extract %arg0[3] : <64 x f64>
    %18 = fhe.extract %arg0[11] : <64 x f64>
    %19 = fhe.add(%18, %17, %16, %13, %12, %11, %8, %6, %7) : (!fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>) -> !fhe.secret<f64>
    %20 = fhe.insert %19 into %15[2] : <64 x f64>
    %21 = fhe.extract %arg0[60] : <64 x f64>
    %22 = fhe.extract %arg0[4] : <64 x f64>
    %23 = fhe.extract %arg0[12] : <64 x f64>
    %24 = fhe.add(%23, %22, %21, %18, %17, %16, %13, %11, %12) : (!fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>) -> !fhe.secret<f64>
    %25 = fhe.insert %24 into %20[3] : <64 x f64>
    %26 = fhe.extract %arg0[61] : <64 x f64>
    %27 = fhe.extract %arg0[5] : <64 x f64>
    %28 = fhe.extract %arg0[13] : <64 x f64>
    %29 = fhe.add(%28, %27, %26, %23, %22, %21, %18, %16, %17) : (!fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>) -> !fhe.secret<f64>
    %30 = fhe.insert %29 into %25[4] : <64 x f64>
    %31 = fhe.extract %arg0[62] : <64 x f64>
    %32 = fhe.extract %arg0[6] : <64 x f64>
    %33 = fhe.extract %arg0[14] : <64 x f64>
    %34 = fhe.add(%33, %32, %31, %28, %27, %26, %23, %21, %22) : (!fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>) -> !fhe.secret<f64>
    %35 = fhe.insert %34 into %30[5] : <64 x f64>
    %36 = fhe.extract %arg0[15] : <64 x f64>
    %37 = fhe.add(%36, %2, %1, %33, %32, %31, %28, %26, %27) : (!fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>) -> !fhe.secret<f64>
    %38 = fhe.insert %37 into %35[6] : <64 x f64>
    %39 = fhe.extract %arg0[16] : <64 x f64>
    %40 = fhe.add(%39, %5, %4, %36, %2, %1, %33, %31, %32) : (!fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>) -> !fhe.secret<f64>
    %41 = fhe.insert %40 into %38[7] : <64 x f64>
    %42 = fhe.extract %arg0[17] : <64 x f64>
    %43 = fhe.add(%42, %8, %7, %39, %5, %4, %36, %1, %2) : (!fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>) -> !fhe.secret<f64>
    %44 = fhe.insert %43 into %41[8] : <64 x f64>
    %45 = fhe.extract %arg0[18] : <64 x f64>
    %46 = fhe.add(%45, %13, %12, %42, %8, %7, %39, %4, %5) : (!fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>) -> !fhe.secret<f64>
    %47 = fhe.insert %46 into %44[9] : <64 x f64>
    %48 = fhe.extract %arg0[19] : <64 x f64>
    %49 = fhe.add(%48, %18, %17, %45, %13, %12, %42, %7, %8) : (!fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>) -> !fhe.secret<f64>
    %50 = fhe.insert %49 into %47[10] : <64 x f64>
    %51 = fhe.extract %arg0[20] : <64 x f64>
    %52 = fhe.add(%51, %23, %22, %48, %18, %17, %45, %12, %13) : (!fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>) -> !fhe.secret<f64>
    %53 = fhe.insert %52 into %50[11] : <64 x f64>
    %54 = fhe.extract %arg0[21] : <64 x f64>
    %55 = fhe.add(%54, %28, %27, %51, %23, %22, %48, %17, %18) : (!fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>) -> !fhe.secret<f64>
    %56 = fhe.insert %55 into %53[12] : <64 x f64>
    %57 = fhe.extract %arg0[22] : <64 x f64>
    %58 = fhe.add(%57, %33, %32, %54, %28, %27, %51, %22, %23) : (!fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>) -> !fhe.secret<f64>
    %59 = fhe.insert %58 into %56[13] : <64 x f64>
    %60 = fhe.extract %arg0[23] : <64 x f64>
    %61 = fhe.add(%60, %36, %2, %57, %33, %32, %54, %27, %28) : (!fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>) -> !fhe.secret<f64>
    %62 = fhe.insert %61 into %59[14] : <64 x f64>
    %63 = fhe.extract %arg0[24] : <64 x f64>
    %64 = fhe.add(%63, %39, %5, %60, %36, %2, %57, %32, %33) : (!fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>) -> !fhe.secret<f64>
    %65 = fhe.insert %64 into %62[15] : <64 x f64>
    %66 = fhe.extract %arg0[25] : <64 x f64>
    %67 = fhe.add(%66, %42, %8, %63, %39, %5, %60, %2, %36) : (!fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>) -> !fhe.secret<f64>
    %68 = fhe.insert %67 into %65[16] : <64 x f64>
    %69 = fhe.extract %arg0[26] : <64 x f64>
    %70 = fhe.add(%69, %45, %13, %66, %42, %8, %63, %5, %39) : (!fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>) -> !fhe.secret<f64>
    %71 = fhe.insert %70 into %68[17] : <64 x f64>
    %72 = fhe.extract %arg0[27] : <64 x f64>
    %73 = fhe.add(%72, %48, %18, %69, %45, %13, %66, %8, %42) : (!fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>) -> !fhe.secret<f64>
    %74 = fhe.insert %73 into %71[18] : <64 x f64>
    %75 = fhe.extract %arg0[28] : <64 x f64>
    %76 = fhe.add(%75, %51, %23, %72, %48, %18, %69, %13, %45) : (!fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>) -> !fhe.secret<f64>
    %77 = fhe.insert %76 into %74[19] : <64 x f64>
    %78 = fhe.extract %arg0[29] : <64 x f64>
    %79 = fhe.add(%78, %54, %28, %75, %51, %23, %72, %18, %48) : (!fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>) -> !fhe.secret<f64>
    %80 = fhe.insert %79 into %77[20] : <64 x f64>
    %81 = fhe.extract %arg0[30] : <64 x f64>
    %82 = fhe.add(%81, %57, %33, %78, %54, %28, %75, %23, %51) : (!fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>) -> !fhe.secret<f64>
    %83 = fhe.insert %82 into %80[21] : <64 x f64>
    %84 = fhe.extract %arg0[31] : <64 x f64>
    %85 = fhe.add(%84, %60, %36, %81, %57, %33, %78, %28, %54) : (!fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>) -> !fhe.secret<f64>
    %86 = fhe.insert %85 into %83[22] : <64 x f64>
    %87 = fhe.extract %arg0[32] : <64 x f64>
    %88 = fhe.add(%87, %63, %39, %84, %60, %36, %81, %33, %57) : (!fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>) -> !fhe.secret<f64>
    %89 = fhe.insert %88 into %86[23] : <64 x f64>
    %90 = fhe.extract %arg0[33] : <64 x f64>
    %91 = fhe.add(%90, %66, %42, %87, %63, %39, %84, %36, %60) : (!fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>) -> !fhe.secret<f64>
    %92 = fhe.insert %91 into %89[24] : <64 x f64>
    %93 = fhe.extract %arg0[34] : <64 x f64>
    %94 = fhe.add(%93, %69, %45, %90, %66, %42, %87, %39, %63) : (!fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>) -> !fhe.secret<f64>
    %95 = fhe.insert %94 into %92[25] : <64 x f64>
    %96 = fhe.extract %arg0[35] : <64 x f64>
    %97 = fhe.add(%96, %72, %48, %93, %69, %45, %90, %42, %66) : (!fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>) -> !fhe.secret<f64>
    %98 = fhe.insert %97 into %95[26] : <64 x f64>
    %99 = fhe.extract %arg0[36] : <64 x f64>
    %100 = fhe.add(%99, %75, %51, %96, %72, %48, %93, %45, %69) : (!fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>) -> !fhe.secret<f64>
    %101 = fhe.insert %100 into %98[27] : <64 x f64>
    %102 = fhe.extract %arg0[37] : <64 x f64>
    %103 = fhe.add(%102, %78, %54, %99, %75, %51, %96, %48, %72) : (!fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>) -> !fhe.secret<f64>
    %104 = fhe.insert %103 into %101[28] : <64 x f64>
    %105 = fhe.extract %arg0[38] : <64 x f64>
    %106 = fhe.add(%105, %81, %57, %102, %78, %54, %99, %51, %75) : (!fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>) -> !fhe.secret<f64>
    %107 = fhe.insert %106 into %104[29] : <64 x f64>
    %108 = fhe.extract %arg0[39] : <64 x f64>
    %109 = fhe.add(%108, %84, %60, %105, %81, %57, %102, %54, %78) : (!fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>) -> !fhe.secret<f64>
    %110 = fhe.insert %109 into %107[30] : <64 x f64>
    %111 = fhe.extract %arg0[40] : <64 x f64>
    %112 = fhe.add(%111, %87, %63, %108, %84, %60, %105, %57, %81) : (!fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>) -> !fhe.secret<f64>
    %113 = fhe.insert %112 into %110[31] : <64 x f64>
    %114 = fhe.extract %arg0[41] : <64 x f64>
    %115 = fhe.add(%114, %90, %66, %111, %87, %63, %108, %60, %84) : (!fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>) -> !fhe.secret<f64>
    %116 = fhe.insert %115 into %113[32] : <64 x f64>
    %117 = fhe.extract %arg0[42] : <64 x f64>
    %118 = fhe.add(%117, %93, %69, %114, %90, %66, %111, %63, %87) : (!fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>) -> !fhe.secret<f64>
    %119 = fhe.insert %118 into %116[33] : <64 x f64>
    %120 = fhe.extract %arg0[43] : <64 x f64>
    %121 = fhe.add(%120, %96, %72, %117, %93, %69, %114, %66, %90) : (!fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>) -> !fhe.secret<f64>
    %122 = fhe.insert %121 into %119[34] : <64 x f64>
    %123 = fhe.extract %arg0[44] : <64 x f64>
    %124 = fhe.add(%123, %99, %75, %120, %96, %72, %117, %69, %93) : (!fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>) -> !fhe.secret<f64>
    %125 = fhe.insert %124 into %122[35] : <64 x f64>
    %126 = fhe.extract %arg0[45] : <64 x f64>
    %127 = fhe.add(%126, %102, %78, %123, %99, %75, %120, %72, %96) : (!fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>) -> !fhe.secret<f64>
    %128 = fhe.insert %127 into %125[36] : <64 x f64>
    %129 = fhe.extract %arg0[46] : <64 x f64>
    %130 = fhe.add(%129, %105, %81, %126, %102, %78, %123, %75, %99) : (!fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>) -> !fhe.secret<f64>
    %131 = fhe.insert %130 into %128[37] : <64 x f64>
    %132 = fhe.extract %arg0[47] : <64 x f64>
    %133 = fhe.add(%132, %108, %84, %129, %105, %81, %126, %78, %102) : (!fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>) -> !fhe.secret<f64>
    %134 = fhe.insert %133 into %131[38] : <64 x f64>
    %135 = fhe.extract %arg0[48] : <64 x f64>
    %136 = fhe.add(%135, %111, %87, %132, %108, %84, %129, %81, %105) : (!fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>) -> !fhe.secret<f64>
    %137 = fhe.insert %136 into %134[39] : <64 x f64>
    %138 = fhe.extract %arg0[49] : <64 x f64>
    %139 = fhe.add(%138, %114, %90, %135, %111, %87, %132, %84, %108) : (!fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>) -> !fhe.secret<f64>
    %140 = fhe.insert %139 into %137[40] : <64 x f64>
    %141 = fhe.extract %arg0[50] : <64 x f64>
    %142 = fhe.add(%141, %117, %93, %138, %114, %90, %135, %87, %111) : (!fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>) -> !fhe.secret<f64>
    %143 = fhe.insert %142 into %140[41] : <64 x f64>
    %144 = fhe.extract %arg0[51] : <64 x f64>
    %145 = fhe.add(%144, %120, %96, %141, %117, %93, %138, %90, %114) : (!fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>) -> !fhe.secret<f64>
    %146 = fhe.insert %145 into %143[42] : <64 x f64>
    %147 = fhe.extract %arg0[52] : <64 x f64>
    %148 = fhe.add(%147, %123, %99, %144, %120, %96, %141, %93, %117) : (!fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>) -> !fhe.secret<f64>
    %149 = fhe.insert %148 into %146[43] : <64 x f64>
    %150 = fhe.extract %arg0[53] : <64 x f64>
    %151 = fhe.add(%150, %126, %102, %147, %123, %99, %144, %96, %120) : (!fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>) -> !fhe.secret<f64>
    %152 = fhe.insert %151 into %149[44] : <64 x f64>
    %153 = fhe.extract %arg0[54] : <64 x f64>
    %154 = fhe.add(%153, %129, %105, %150, %126, %102, %147, %99, %123) : (!fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>) -> !fhe.secret<f64>
    %155 = fhe.insert %154 into %152[45] : <64 x f64>
    %156 = fhe.add(%0, %132, %108, %153, %129, %105, %150, %102, %126) : (!fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>) -> !fhe.secret<f64>
    %157 = fhe.insert %156 into %155[46] : <64 x f64>
    %158 = fhe.add(%3, %135, %111, %0, %132, %108, %153, %105, %129) : (!fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>) -> !fhe.secret<f64>
    %159 = fhe.insert %158 into %157[47] : <64 x f64>
    %160 = fhe.add(%6, %138, %114, %3, %135, %111, %0, %108, %132) : (!fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>) -> !fhe.secret<f64>
    %161 = fhe.insert %160 into %159[48] : <64 x f64>
    %162 = fhe.add(%11, %141, %117, %6, %138, %114, %3, %111, %135) : (!fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>) -> !fhe.secret<f64>
    %163 = fhe.insert %162 into %161[49] : <64 x f64>
    %164 = fhe.add(%16, %144, %120, %11, %141, %117, %6, %114, %138) : (!fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>) -> !fhe.secret<f64>
    %165 = fhe.insert %164 into %163[50] : <64 x f64>
    %166 = fhe.add(%21, %147, %123, %16, %144, %120, %11, %117, %141) : (!fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>) -> !fhe.secret<f64>
    %167 = fhe.insert %166 into %165[51] : <64 x f64>
    %168 = fhe.add(%26, %150, %126, %21, %147, %123, %16, %120, %144) : (!fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>) -> !fhe.secret<f64>
    %169 = fhe.insert %168 into %167[52] : <64 x f64>
    %170 = fhe.add(%31, %153, %129, %26, %150, %126, %21, %123, %147) : (!fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>) -> !fhe.secret<f64>
    %171 = fhe.insert %170 into %169[53] : <64 x f64>
    %172 = fhe.add(%1, %0, %132, %31, %153, %129, %26, %126, %150) : (!fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>) -> !fhe.secret<f64>
    %173 = fhe.insert %172 into %171[54] : <64 x f64>
    %174 = fhe.add(%4, %3, %135, %1, %0, %132, %31, %129, %153) : (!fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>) -> !fhe.secret<f64>
    %175 = fhe.insert %174 into %173[55] : <64 x f64>
    %176 = fhe.add(%7, %6, %138, %4, %3, %135, %1, %132, %0) : (!fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>) -> !fhe.secret<f64>
    %177 = fhe.insert %176 into %175[56] : <64 x f64>
    %178 = fhe.add(%12, %11, %141, %7, %6, %138, %4, %135, %3) : (!fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>) -> !fhe.secret<f64>
    %179 = fhe.insert %178 into %177[57] : <64 x f64>
    %180 = fhe.add(%17, %16, %144, %12, %11, %141, %7, %138, %6) : (!fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>) -> !fhe.secret<f64>
    %181 = fhe.insert %180 into %179[58] : <64 x f64>
    %182 = fhe.add(%22, %21, %147, %17, %16, %144, %12, %141, %11) : (!fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>) -> !fhe.secret<f64>
    %183 = fhe.insert %182 into %181[59] : <64 x f64>
    %184 = fhe.add(%27, %26, %150, %22, %21, %147, %17, %144, %16) : (!fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>) -> !fhe.secret<f64>
    %185 = fhe.insert %184 into %183[60] : <64 x f64>
    %186 = fhe.add(%32, %31, %153, %27, %26, %150, %22, %147, %21) : (!fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>) -> !fhe.secret<f64>
    %187 = fhe.insert %186 into %185[61] : <64 x f64>
    %188 = fhe.add(%2, %1, %0, %32, %31, %153, %27, %150, %26) : (!fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>) -> !fhe.secret<f64>
    %189 = fhe.insert %188 into %187[62] : <64 x f64>
    %190 = fhe.add(%5, %4, %3, %2, %1, %0, %32, %153, %31) : (!fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>, !fhe.secret<f64>) -> !fhe.secret<f64>
    %191 = fhe.insert %190 into %189[63] : <64 x f64>
    return %191 : !fhe.batched_secret<64 x f64>
  }
}


//CHECK: module {
//CHECK:   func.func private @encryptedBoxBlur(%arg0: !fhe.batched_secret<64 x f64>) -> !fhe.batched_secret<64 x f64> {
//CHECK:     %0 = fhe.rotate(%arg0) by 55 : <64 x f64>
//CHECK:     %1 = fhe.rotate(%arg0) by 63 : <64 x f64>
//CHECK:     %2 = fhe.rotate(%arg0) by 7 : <64 x f64>
//CHECK:     %3 = fhe.rotate(%arg0) by 56 : <64 x f64>
//CHECK:     %4 = fhe.rotate(%arg0) by 8 : <64 x f64>
//CHECK:     %5 = fhe.rotate(%arg0) by 57 : <64 x f64>
//CHECK:     %6 = fhe.rotate(%arg0) by 9 : <64 x f64>
//CHECK:     %7 = fhe.rotate(%arg0) by 1 : <64 x f64>
//CHECK:     %8 = fhe.add(%0, %1, %2, %3, %arg0, %4, %5, %6, %7) : (!fhe.batched_secret<64 x f64>, !fhe.batched_secret<64 x f64>, !fhe.batched_secret<64 x f64>, !fhe.batched_secret<64 x f64>, !fhe.batched_secret<64 x f64>, !fhe.batched_secret<64 x f64>, !fhe.batched_secret<64 x f64>, !fhe.batched_secret<64 x f64>, !fhe.batched_secret<64 x f64>) -> !fhe.batched_secret<64 x f64>
//CHECK:     return %8 : !fhe.batched_secret<64 x f64>
//CHECK:   }
//CHECK: }